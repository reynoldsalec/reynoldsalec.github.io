<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="lt-ie10 lt-ie9"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="lt-ie10"> <![endif]-->
<!--[if gt IE 10]><!--><html lang="en"><!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta content="width=device-width" name="viewport">
    <link href="//fonts.googleapis.com" rel="dns-prefetch">
    <link href="//themes.googleusercontent.com" rel="dns-prefetch">
    <link href="//www.google-analytics.com" rel="dns-prefetch">
    
      <title>NodeJS on Linode &ndash; Living Better, Together</title>
      <meta content="NodeJS on Linode" property="og:title">
      <meta content="NodeJS on Linode" name="twitter:title">
    
    <meta content="Living Better, Together" property="og:site_name">
    
      <meta content="Fast instructions on how to get a basic Node app running on Linode hosting." name="description">
      <meta content="Fast instructions on how to get a basic Node app running on Linode hosting." property="og:description">
      <meta content="Fast instructions on how to get a basic Node app running on Linode hosting." name="twitter:description">
    

    <meta content="Alec Reynolds" name="author">
    <link href="https://plus.google.com/111951762509840042073/posts" rel="author">
    <meta content="@ReynoldsAlec" name="twitter:site">
    <meta content="@ReynoldsAlec" name="twitter:creator">

    <link href="/atom.xml" rel="alternate" title="Atom" type="application/atom+xml">
    <link href="/sitemap.xml" rel="sitemap" title="Sitemap" type="application/xml">

    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/favicon-152x152.png">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon-144x144.png">
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/favicon-120x120.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/favicon-114x114.png">
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/favicon-76x76.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/favicon-72x72.png">
    <link rel="apple-touch-icon-precomposed" href="/favicon-57x57.png">

    <link rel="shortcut icon" sizes="196x196" href="/favicon-196x196.png">

    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="/favicon-144x144-ie10.png">

    <meta name="msapplication-square70x70logo" content="/favicon-128x128-ie11.png"/>
    <meta name="msapplication-square150x150logo" content="/favicon-270x270-ie11.png"/>
    <meta name="msapplication-wide310x150logo" content="/favicon-558x270-ie11.png"/>
    <meta name="msapplication-square310x310logo" content="/favicon-558x558-ie11.png"/>

    <link rel="shortcut icon" href="/favicon.ico" >

    <link href="http://reynoldsalec.github.io/2016/03/nodejs-linode/" rel="canonical">
    
      <meta content="article" property="og:type">
    
    <meta content="summary" name="twitter:card">
    
      <meta content="http://reynoldsalec.github.io/2016/03/nodejs-linode/" property="og:url">
      <meta content="http://reynoldsalec.github.io/2016/03/nodejs-linode/" name="twitter:url">
    
    
      <meta content="2016-03-06T00:00:00-08:00" property="article:published_time">
      <meta content="http://reynoldsalec.github.io/about/" property="article:author">
    
    
      <meta property="og:image" content="http://reynoldsalec.github.io/assets/img/logo-high-resolution.png">
      <meta name="twitter:image:src" content="http://reynoldsalec.github.io/assets/img/logo-high-resolution.png">
    
    
      
      <meta property="article:tag" content="Linode">
      
      <meta property="article:tag" content="NodeJS">
      
      <meta property="article:tag" content="programming">
      
    
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600" rel="stylesheet" type="text/css">
    <link href="/assets/css/styles.css" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]>
      <script src="/assets/js/html5shiv.js"></script>
    <![endif]-->
  </head>
  <body class="">
    <div class="outer-container">
      <div class="inner-container">
        <!--[if lt IE 9]><div class="chromeframe">
          <p>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p>
        </div><![endif]-->
        <header class="site-header" role="banner">
          <a class="site-logo" href="/"><img src="/assets/img/logo.png"></a>
          <nav class="main-navigation" role="navigation">
            <h1 class="visuallyhidden">Menu</h1>
            <div class="visuallyhidden">
              <a href="#content" title="Skip to content">Skip to content</a>
            </div>
            <ul>
              <li>
                <a class="nav-home" href="/">Home</a>
              </li>
              <li>
                <a class="nav-about" href="/about/">About</a>
              </li>
            </ul>
          </nav>
        </header>
        <div class="primary" id="content" role="main">

<article class="post hentry">
  <header class="entry-header">
    <h1 class="entry-title">NodeJS on Linode</h1>
    <div class="entry-meta entry-meta-header">
      <span class="icon-left entry-meta-icon icon-entry-date">
        <time class="date updated" datetime="2016-03-06T00:00:00-08:00">March 06, 2016</time>
      </span>
    </div>
  </header>
  <div class="entry-content">
    <h2>Intro</h2>

<p>Unite all the nodes!</p>

<p>Linode provides inexpensive, reliable servers. If you want to &ldquo;set and forget&rdquo;
a Node app (or multiple apps), Linode can be a good option. Although I&rsquo;ve since
started using Docker Cloud for most of my microservice hosting needs, here&rsquo;s
how I used to run Kalabox.io, the Kalabox API documentation, and our system
dashboard on Linode:</p>

<h2>Steps</h2>

<p>1. Upload your Node app to your desired webroot on Linode</p>

<pre><code>scp -r yourstuff user@IP:/path/to/webroot
</code></pre>

<p>Note that this assumes you either have your SSH key setup on your Linode server
OR that you have your user&rsquo;s credentials handy.</p>

<p>2. Install Node on linode</p>

<pre><code>cd ~
wget [LATEST TAR FOR LINUX]
mkdir node
tar xvf node-v*.tar.?z --strip-components=1 -C ./node

# Remove cruft and create node directory in our home directory
cd ~
rm -rf node-v*
mkdir node/etc

# Link up npm to installed node packages
echo 'prefix=/usr/local' &gt; node/etc/npmrc

# Get your node executable alongside other binaries
sudo mv node /opt/
sudo chown -R root: /opt/node

# Get your node executable into path
sudo ln -s /opt/node/bin/node /usr/local/bin/node
sudo ln -s /opt/node/bin/npm /usr/local/bin/npm
</code></pre>

<p>If <code>node -v</code> runs, we&rsquo;re good!</p>

<p>3. Use PM2 to keep the node process STAYIN' ALIVE</p>

<p>  In the case that our Node app goes down for some reason or our server is
  restarted, we want to make sure our application is restarted automatically!
  Fortunately, a tool called pm2 (process manager) makes this easy:</p>

<pre><code class="``">  sudo npm install pm2 -g

  #Have PM2 start things up and keep it up:
  pm2 start server.js

  #Run PM2 on server start so you don't have to do it manually on restarts:
  pm2 startup debian

  #Note you'll need to put your Linux distro in here. It should output a command that you'll run with root permissions:
</code></pre>

<h2>Advantages/Disadvantages</h2>

<p>If you&rsquo;re looking to have a handful of Node apps running for a long time without
many (if any) changes, doing this setup once is probably a good solution.</p>

<p>However, if you&rsquo;ll be making frequent changes, have a need to scale your apps
quickly, or are introducing complicated dependencies, I highly recommend
hosting your Node apps using Docker and a Docker &ldquo;Infrastructure as a Service&rdquo;
(IaaS) provider like Docker Cloud. It may cost more initially and introduce
further complexity, but the dividends are great.</p>

<p>Stay frosty friends!</p>

<h2>Resources</h2>

<ul>
<li>https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-14-04</li>
<li>http://www.sitepoint.com/creating-and-handling-forms-in-node-js/</li>
</ul>


  </div>
  
    <footer class="entry-meta entry-meta-footer">
      
      <div class="entry-meta-footer-bottom">
        
          <span class="icon-left entry-meta-icon icon-tag">
            
              <a class="nav-link-tag" href="/tag/linode" rel="tag">Linode</a>, 
            
              <a class="nav-link-tag" href="/tag/nodejs" rel="tag">NodeJS</a>, 
            
              <a class="nav-link-tag" href="/tag/programming" rel="tag">programming</a>
            
          </span>
        
      </div>
      
    </footer>
  
</article>
<nav class="post-navigation" role="navigation">
  <h1 class="visuallyhidden">Post navigation</h1>
  
    <div class="nav-previous">
      <a class="nav-previous-link" href="http://reynoldsalec.github.io/2014/12/christmas-list/" rel="prev">A Bad Materialist's Christmas List</a>
    </div>
  
  
</nav>
        </div>
        <aside class="secondary vcard author" role="complementary">
          <img alt="Goofy picture of Alec eating a Pac Man" class="secondary-photo photo" src="/assets/img/alec-reynolds.jpg">
          <p>Greetings! I'm <strong class="fn">Alec Reynolds</strong>, most folks think of me as a technologist and co-founder of <strong>Kalamuna</strong>. Learn more <a href="/about/" class="url">about me</a>.</p>
          <p>Take a peek at my thoughts and feel free to <a href="mailto:alec@kalamuna.com" class="email">reach out</a> with any comments, questions, or just to say hello!</p>
          <ul class="aside-links">
            <li>
              <a class="icon-left" href="https://twitter.com/reynoldsalec" title="Follow @reynoldsalec on Twitter"><i class="fa fa-twitter"></i> Follow me on Twitter</a>
            </li>
            <li>
              <a class="icon-left" href="https://www.linkedin.com/pub/alec-reynolds/22/8a8/b08/" title="Connect with @reynoldsalec on LinkedIn"><i class="fa fa-linkedin-square"></i> Connect with me on LinkedIn</a>
            </li>
          </ul>
        </aside>
      </div>
      <footer class="site-footer" role="contentinfo">
        <ul class="footer-icons">
          <li class="footer-icon-item">
            <a class="footer-icon-anchor footer-icon icon-twitter" href="http://twitter.com/reynoldsalec" title="Follow me on Twitter">
              <span class="footer-icon-title">Twitter</span>
            </a>
          </li>
          <li class="footer-icon-item">
            <a class="footer-icon-anchor footer-icon icon-github" href="http://github.com/reynoldsalec" title="Follow me on GitHub">
              <span class="footer-icon-title">GitHub</span>
            </a>
          </li>
        </ul>
        <p>
          <a class="link-rss" href="/atom.xml" title="Subscribe to my RSS feed">
            <span aria-hidden="true" class="icon-blank"></span>
            <span aria-hidden="true" class="icon-rss"></span>
            <span class="visuallyhidden">RSS Feed</span>
          </a>
        </p>
      </footer>
    </div>
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">
  </body>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56257534-1', 'auto');
  ga('send', 'pageview');

  </script>
</html>

