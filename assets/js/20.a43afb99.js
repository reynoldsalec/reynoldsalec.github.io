(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{327:function(e,o,t){"use strict";t.r(o);var n=t(5),a=Object(n.a)({},(function(){var e=this,o=e._self._c;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h2",{attrs:{id:"intro"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#intro"}},[e._v("#")]),e._v(" Intro")]),e._v(" "),o("p",[e._v("Unite all the nodes!")]),e._v(" "),o("p",[e._v("Linode provides inexpensive, reliable servers. If you want to \"set and forget\"\na Node app (or multiple apps), Linode can be a good option. Although I've since\nstarted using Docker Cloud for most of my microservice hosting needs, here's\nhow I used to run Kalabox.io, the Kalabox API documentation, and our system\ndashboard on Linode:")]),e._v(" "),o("h2",{attrs:{id:"steps"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#steps"}},[e._v("#")]),e._v(" Steps")]),e._v(" "),o("p",[e._v("1. Upload your Node app to your desired webroot on Linode")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v("scp -r yourstuff user@IP:/path/to/webroot\n")])])]),o("p",[e._v("Note that this assumes you either have your SSH key setup on your Linode server\nOR that you have your user's credentials handy.")]),e._v(" "),o("p",[e._v("2. Install Node on linode")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("cd ~\nwget [LATEST TAR FOR LINUX]\nmkdir node\ntar xvf node-v*.tar.?z --strip-components=1 -C ./node\n\n# Remove cruft and create node directory in our home directory\ncd ~\nrm -rf node-v*\nmkdir node/etc\n\n# Link up npm to installed node packages\necho 'prefix=/usr/local' > node/etc/npmrc\n\n# Get your node executable alongside other binaries\nsudo mv node /opt/\nsudo chown -R root: /opt/node\n\n# Get your node executable into path\nsudo ln -s /opt/node/bin/node /usr/local/bin/node\nsudo ln -s /opt/node/bin/npm /usr/local/bin/npm\n")])])]),o("p",[e._v("If "),o("code",[e._v("node -v")]),e._v(" runs, we're good!")]),e._v(" "),o("p",[e._v("3. Use PM2 to keep the node process STAYIN' ALIVE")]),e._v(" "),o("p",[e._v("In the case that our Node app goes down for some reason or our server is\nrestarted, we want to make sure our application is restarted automatically!\nFortunately, a tool called pm2 (process manager) makes this easy:")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("sudo npm install pm2 -g\n\n#Have PM2 start things up and keep it up:\npm2 start server.js\n\n#Run PM2 on server start so you don't have to do it manually on restarts:\npm2 startup debian\n\n#Note you'll need to put your Linux distro in here. It should output a command that you'll run with root permissions:\n")])])]),o("h2",{attrs:{id:"advantages-disadvantages"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#advantages-disadvantages"}},[e._v("#")]),e._v(" Advantages/Disadvantages")]),e._v(" "),o("p",[e._v("If you're looking to have a handful of Node apps running for a long time without\nmany (if any) changes, doing this setup once is probably a good solution.")]),e._v(" "),o("p",[e._v('However, if you\'ll be making frequent changes, have a need to scale your apps\nquickly, or are introducing complicated dependencies, I highly recommend\nhosting your Node apps using Docker and a Docker "Infrastructure as a Service"\n(IaaS) provider like Docker Cloud. It may cost more initially and introduce\nfurther complexity, but the dividends are great.')]),e._v(" "),o("p",[e._v("Stay frosty friends!")]),e._v(" "),o("h2",{attrs:{id:"resources"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#resources"}},[e._v("#")]),e._v(" Resources")]),e._v(" "),o("ul",[o("li",[e._v("https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-14-04")]),e._v(" "),o("li",[e._v("http://www.sitepoint.com/creating-and-handling-forms-in-node-js/")])])])}),[],!1,null,null,null);o.default=a.exports}}]);